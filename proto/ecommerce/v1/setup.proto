syntax = "proto3";

package ecommerce.v1;

import "ecommerce/v1/common.proto";

service SetupService {
  // One-time initial setup. Creates tenant + store + owner staff.
  rpc InitializeStore(InitializeStoreRequest) returns (InitializeStoreResponse);
  rpc ValidateStoreCode(ValidateStoreCodeRequest) returns (ValidateStoreCodeResponse);
}

message InitializeStoreRequest {
  string store_name = 1;
  string owner_email = 2;
  string owner_password = 3;
  string owner_login_id = 4; // optional (future use)
  string store_code = 5;
  ActorContext actor = 6;
}

message InitializeStoreResponse {
  string tenant_id = 1;
  string store_id = 2;
  string owner_staff_id = 3;
  string vendor_id = 4;
  string store_code = 5;
}

message ValidateStoreCodeRequest {
  string store_code = 1;
}

message ValidateStoreCodeResponse {
  bool available = 1;
  string message = 2;
}
